{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SHAIK%20SHAFIYA/Desktop/medical/src/types/roles.ts"],"sourcesContent":["export enum UserRole {\n  REGULAR = 'Regular',\n  WHOLESALER = 'Wholesaler',\n  DISTRIBUTOR = 'Distributor',\n  ADMIN = 'Admin', // Added Admin role\n}\n\nexport const roles = [UserRole.REGULAR, UserRole.WHOLESALER, UserRole.DISTRIBUTOR, UserRole.ADMIN];"],"names":[],"mappings":";;;;;;AAAO,IAAA,AAAK,kCAAA;;;;;WAAA;;AAOL,MAAM,QAAQ;;;;;CAA6E"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SHAIK%20SHAFIYA/Desktop/medical/src/app/api/admin/users/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport fs from 'fs/promises';\nimport path from 'path';\nimport { UserRole } from '@/types/roles';\n\nconst usersFilePath = path.join(process.cwd(), 'src/data/users.json');\n\ninterface User {\n  id: string;\n  email: string;\n  password?: string;\n  role: UserRole;\n  companyName?: string;\n  gstin?: string;\n}\n\nasync function readUsers(): Promise<User[]> {\n  try {\n    const fileContent = await fs.readFile(usersFilePath, 'utf-8');\n    return JSON.parse(fileContent);\n  } catch (error) {\n    console.error('Error reading users data:', error);\n    return [];\n  }\n}\n\nexport async function GET(request: Request) {\n  const adminRole = request.headers.get('X-User-Role');\n  if (adminRole !== UserRole.ADMIN) {\n    return NextResponse.json({ message: 'Forbidden: Admin access required' }, { status: 403 });\n  }\n\n  const users = await readUsers();\n  // Filter out passwords before sending to client\n  const usersWithoutPasswords = users.map(({ password, ...user }) => user);\n  return NextResponse.json(usersWithoutPasswords);\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,gBAAgB,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAW/C,eAAe;IACb,IAAI;QACF,MAAM,cAAc,MAAM,gIAAE,CAAC,QAAQ,CAAC,eAAe;QACrD,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,EAAE;IACX;AACF;AAEO,eAAe,IAAI,OAAgB;IACxC,MAAM,YAAY,QAAQ,OAAO,CAAC,GAAG,CAAC;IACtC,IAAI,cAAc,yJAAQ,CAAC,KAAK,EAAE;QAChC,OAAO,sKAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAmC,GAAG;YAAE,QAAQ;QAAI;IAC1F;IAEA,MAAM,QAAQ,MAAM;IACpB,gDAAgD;IAChD,MAAM,wBAAwB,MAAM,GAAG,CAAC,CAAC,EAAE,QAAQ,EAAE,GAAG,MAAM,GAAK;IACnE,OAAO,sKAAY,CAAC,IAAI,CAAC;AAC3B"}}]
}