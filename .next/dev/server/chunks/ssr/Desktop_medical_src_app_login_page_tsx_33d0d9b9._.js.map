{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SHAIK%20SHAFIYA/Desktop/medical/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { useRole } from '@/context/RoleContext';\nimport { UserRole } from '@/types/roles'; // Ensure UserRole is imported\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const router = useRouter();\n  const { login } = useRole();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n\n      if (response.ok) {\n        const { token, user } = await response.json();\n        // Simulate storing token and user role\n        login(user.email, user.role, token); // Use the login function from context\n        \n        // Redirect based on role or to a default dashboard\n        if (user.role === UserRole.ADMIN) {\n          router.push('/admin');\n        } else {\n          router.push('/products');\n        }\n      } else {\n        const errorData = await response.json();\n        alert(errorData.message || 'Login failed');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      alert('An error occurred during login.');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Client Portal Login\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Access your B2B dashboard\n          </p>\n        </div>\n        <form className=\"mt-8 space-y-6 bg-white p-8 shadow-lg rounded-lg\" onSubmit={handleSubmit}>\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"email-address\" className=\"sr-only\">\n                Email address\n              </label>\n              <input\n                id=\"email-address\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Email address\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <input\n                id=\"remember-me\"\n                name=\"remember-me\"\n                type=\"checkbox\"\n                className=\"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded\"\n              />\n              <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\n                Remember me\n              </label>\n            </div>\n\n            <div className=\"text-sm\">\n              <Link href=\"/forgot-password\" className=\"font-medium text-emerald-600 hover:text-emerald-500\">\n                Forgot your password?\n              </Link>\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500\"\n            >\n              Sign in\n            </button>\n          </div>\n        </form>\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\n          Don't have an account?{' '}\n          <Link href=\"/signup\" className=\"font-medium text-emerald-600 hover:text-emerald-500\">\n            Request a B2B account\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA,kPAA0C,8BAA8B;AANxE;;;;;;;AAQA,MAAM,YAAY;IAChB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,uOAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uOAAQ,EAAC;IACzC,MAAM,SAAS,IAAA,qKAAS;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+JAAO;IAEzB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI;gBAC3C,uCAAuC;gBACvC,MAAM,KAAK,KAAK,EAAE,KAAK,IAAI,EAAE,QAAQ,sCAAsC;gBAE3E,mDAAmD;gBACnD,IAAI,KAAK,IAAI,KAAK,uJAAQ,CAAC,KAAK,EAAE;oBAChC,OAAO,IAAI,CAAC;gBACd,OAAO;oBACL,OAAO,IAAI,CAAC;gBACd;YACF,OAAO;gBACL,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,UAAU,OAAO,IAAI;YAC7B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,MAAM;QACR;IACF;IAEA,qBACE,oQAAC;QAAI,WAAU;kBACb,cAAA,oQAAC;YAAI,WAAU;;8BACb,oQAAC;;sCACC,oQAAC;4BAAG,WAAU;sCAAyD;;;;;;sCAGvE,oQAAC;4BAAE,WAAU;sCAAyC;;;;;;;;;;;;8BAIxD,oQAAC;oBAAK,WAAU;oBAAmD,UAAU;;sCAC3E,oQAAC;4BAAI,WAAU;;8CACb,oQAAC;;sDACC,oQAAC;4CAAM,SAAQ;4CAAgB,WAAU;sDAAU;;;;;;sDAGnD,oQAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,cAAa;4CACb,QAAQ;4CACR,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAG5C,oQAAC;;sDACC,oQAAC;4CAAM,SAAQ;4CAAW,WAAU;sDAAU;;;;;;sDAG9C,oQAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,cAAa;4CACb,QAAQ;4CACR,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;sCAKjD,oQAAC;4BAAI,WAAU;;8CACb,oQAAC;oCAAI,WAAU;;sDACb,oQAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,WAAU;;;;;;sDAEZ,oQAAC;4CAAM,SAAQ;4CAAc,WAAU;sDAAmC;;;;;;;;;;;;8CAK5E,oQAAC;oCAAI,WAAU;8CACb,cAAA,oQAAC,6LAAI;wCAAC,MAAK;wCAAmB,WAAU;kDAAsD;;;;;;;;;;;;;;;;;sCAMlG,oQAAC;sCACC,cAAA,oQAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;8BAKL,oQAAC;oBAAE,WAAU;;wBAAyC;wBAC7B;sCACvB,oQAAC,6LAAI;4BAAC,MAAK;4BAAU,WAAU;sCAAsD;;;;;;;;;;;;;;;;;;;;;;;AAO/F;uCAEe"}}]
}