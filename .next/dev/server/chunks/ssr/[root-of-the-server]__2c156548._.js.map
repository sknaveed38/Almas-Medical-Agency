{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SHAIK%20SHAFIYA/Desktop/medical/src/types/roles.ts"],"sourcesContent":["export enum UserRole {\n  REGULAR = 'Regular',\n  WHOLESALER = 'Wholesaler',\n  DISTRIBUTOR = 'Distributor',\n  ADMIN = 'Admin', // Added Admin role\n}\n\nexport const roles = [UserRole.REGULAR, UserRole.WHOLESALER, UserRole.DISTRIBUTOR, UserRole.ADMIN];"],"names":[],"mappings":";;;;;;AAAO,IAAA,AAAK,kCAAA;;;;;WAAA;;AAOL,MAAM,QAAQ;;;;;CAA6E"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SHAIK%20SHAFIYA/Desktop/medical/src/context/RoleContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useState, useContext, ReactNode, useEffect } from 'react';\nimport { UserRole } from '@/types/roles';\n\n// Extend RoleContextType to include token and potentially more user info\ninterface RoleContextType {\n  currentRole: UserRole;\n  setCurrentRole: (role: UserRole) => void;\n  isLoggedIn: boolean;\n  login: (email: string, role: UserRole, token: string) => void;\n  logout: () => void;\n  token: string | null;\n  userEmail: string | null;\n  loading: boolean; // Add loading state back\n}\n\nconst RoleContext = createContext<RoleContextType | undefined>(undefined);\n\nexport const RoleProvider = ({ children }: { children: ReactNode }) => {\n  const [currentRole, setCurrentRole] = useState<UserRole>(UserRole.REGULAR);\n  const [isLoggedIn, setIsLoggedIn] = useState<boolean>(false);\n  const [token, setToken] = useState<string | null>(null);\n  const [userEmail, setUserEmail] = useState<string | null>(null);\n  const [loading, setLoading] = useState<boolean>(true); // Initialize loading to true\n\n  useEffect(() => {\n    const initializeAuth = async () => {\n      const storedToken = localStorage.getItem('token');\n      const storedRole = localStorage.getItem('currentRole') as UserRole;\n      const storedEmail = localStorage.getItem('currentUserEmail');\n\n      if (storedToken && storedEmail) {\n        setToken(storedToken);\n        setUserEmail(storedEmail);\n        setIsLoggedIn(true);\n        if (storedRole) {\n          setCurrentRole(storedRole);\n        } else {\n          try {\n            const response = await fetch('/api/auth/user', {\n              headers: {\n                'Authorization': `Bearer ${storedToken}`,\n              },\n            });\n            if (response.ok) {\n              const user = await response.json();\n              setCurrentRole(user.role);\n              localStorage.setItem('currentRole', user.role);\n            } else {\n              console.error('Failed to fetch user role, logging out.');\n              logout();\n            }\n          } catch (error) {\n            console.error('Error fetching user role:', error);\n            logout();\n          }\n        }\n      }\n      setLoading(false); // Set loading to false after initialization\n    };\n    initializeAuth();\n  }, [token]); // Re-run when token changes\n\n  const login = (email: string, role: UserRole, authToken: string) => {\n    setToken(authToken);\n    setUserEmail(email);\n    setCurrentRole(role);\n    setIsLoggedIn(true);\n    localStorage.setItem('token', authToken);\n    localStorage.setItem('currentUserEmail', email);\n    localStorage.setItem('currentRole', role);\n  };\n\n  const logout = () => {\n    setToken(null);\n    setUserEmail(null);\n    setCurrentRole(UserRole.REGULAR);\n    setIsLoggedIn(false);\n    localStorage.removeItem('token');\n    localStorage.removeItem('currentUserEmail');\n    localStorage.removeItem('currentRole');\n  };\n\n  return (\n    <RoleContext.Provider value={{ currentRole, setCurrentRole, isLoggedIn, login, logout, token, userEmail, loading }}>\n      {children}\n    </RoleContext.Provider>\n  );\n};\n\nexport const useRole = () => {\n  const context = useContext(RoleContext);\n  if (context === undefined) {\n    throw new Error('useRole must be used within a RoleProvider');\n  }\n  return context;\n};"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAiBA,MAAM,4BAAc,IAAA,4OAAa,EAA8B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,uOAAQ,EAAW,uJAAQ,CAAC,OAAO;IACzE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,uOAAQ,EAAU;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,uOAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,uOAAQ,EAAgB;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uOAAQ,EAAU,OAAO,6BAA6B;IAEpF,IAAA,wOAAS,EAAC;QACR,MAAM,iBAAiB;YACrB,MAAM,cAAc,aAAa,OAAO,CAAC;YACzC,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,cAAc,aAAa,OAAO,CAAC;YAEzC,IAAI,eAAe,aAAa;gBAC9B,SAAS;gBACT,aAAa;gBACb,cAAc;gBACd,IAAI,YAAY;oBACd,eAAe;gBACjB,OAAO;oBACL,IAAI;wBACF,MAAM,WAAW,MAAM,MAAM,kBAAkB;4BAC7C,SAAS;gCACP,iBAAiB,CAAC,OAAO,EAAE,aAAa;4BAC1C;wBACF;wBACA,IAAI,SAAS,EAAE,EAAE;4BACf,MAAM,OAAO,MAAM,SAAS,IAAI;4BAChC,eAAe,KAAK,IAAI;4BACxB,aAAa,OAAO,CAAC,eAAe,KAAK,IAAI;wBAC/C,OAAO;4BACL,QAAQ,KAAK,CAAC;4BACd;wBACF;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,6BAA6B;wBAC3C;oBACF;gBACF;YACF;YACA,WAAW,QAAQ,4CAA4C;QACjE;QACA;IACF,GAAG;QAAC;KAAM,GAAG,4BAA4B;IAEzC,MAAM,QAAQ,CAAC,OAAe,MAAgB;QAC5C,SAAS;QACT,aAAa;QACb,eAAe;QACf,cAAc;QACd,aAAa,OAAO,CAAC,SAAS;QAC9B,aAAa,OAAO,CAAC,oBAAoB;QACzC,aAAa,OAAO,CAAC,eAAe;IACtC;IAEA,MAAM,SAAS;QACb,SAAS;QACT,aAAa;QACb,eAAe,uJAAQ,CAAC,OAAO;QAC/B,cAAc;QACd,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,oQAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAa;YAAgB;YAAY;YAAO;YAAQ;YAAO;YAAW;QAAQ;kBAC9G;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,yOAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SHAIK%20SHAFIYA/Desktop/medical/src/components/Footer.tsx"],"sourcesContent":["\"use client\"; // This component now uses client-side hooks\n\nimport React from 'react';\nimport Link from 'next/link'; // Import Link for internal navigation\nimport { useRole } from '@/context/RoleContext'; // Import useRole\nimport { UserRole } from '@/types/roles'; // Import UserRole\n\nconst Footer = () => {\n  const { currentRole } = useRole(); // Get current role from context\n\n  return (\n    <footer className=\"bg-gray-800 text-white mt-16\">\n      <div className=\"container mx-auto px-4 py-10\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          {/* Company Info */}\n          <div>\n            <h3 className=\"text-lg font-bold text-emerald-400\">Almas Medical & Surgical Agency</h3>\n            <p className=\"mt-2 text-gray-400 text-sm\">\n              Trusted Pharma Distributor â€” Wholesale Medicine Supply for Pharmacies & Clinics.\n            </p>\n            <div className=\"mt-4 text-xs text-gray-500\">\n                <p>Drug License: 12/AB/3456</p>\n                <p>GSTIN: 22ABCDE1234F1Z5</p>\n                <p>ISO 9001 Certified</p>\n            </div>\n          </div>\n\n          {/* Quick Links */}\n          <div>\n            <h4 className=\"font-semibold text-gray-200\">Quick Links</h4>\n            <ul className=\"mt-4 space-y-2 text-sm\">\n              <li><Link href=\"/products\" className=\"text-gray-400 hover:text-white\">Products</Link></li>\n              <li><Link href=\"/about\" className=\"text-gray-400 hover:text-white\">About Us</Link></li>\n              <li><Link href=\"/delivery\" className=\"text-gray-400 hover:text-white\">Delivery & Logistics</Link></li>\n              <li><Link href=\"/contact\" className=\"text-gray-400 hover:text-white\">Contact Us</Link></li>\n            </ul>\n          </div>\n\n          {/* B2B Portal */}\n          <div>\n            <h4 className=\"font-semibold text-gray-200\">B2B Portal</h4>\n            <ul className=\"mt-4 space-y-2 text-sm\">\n              <li><Link href=\"/login\" className=\"text-gray-400 hover:text-white\">Client Login</Link></li>\n              <li><Link href=\"/dashboard\" className=\"text-gray-400 hover:text-white\">Dashboard</Link></li>\n              <li><Link href=\"/dashboard/orders\" className=\"text-gray-400 hover:text-white\">My Orders</Link></li>\n              <li><Link href=\"/dashboard/credit\" className=\"text-gray-400 hover:text-white\">Credit Ledger</Link></li>\n              <li><Link href=\"/dashboard/invoices\" className=\"text-gray-400 hover:text-white\">Invoices</Link></li>\n            </ul>\n          </div>\n\n          {/* Legal */}\n          <div>\n            <h4 className=\"font-semibold text-gray-200\">Legal</h4>\n            <ul className=\"mt-4 space-y-2 text-sm\">\n              <li><Link href=\"/privacy\" className=\"text-gray-400 hover:text-white\">Privacy Policy</Link></li>\n              <li><Link href=\"/terms\" className=\"text-gray-400 hover:text-white\">Terms & Conditions</Link></li>\n              <li><Link href=\"/returns\" className=\"text-gray-400 hover:text-white\">Return Policy</Link></li>\n              <li><Link href=\"/admin/login\" className=\"text-gray-400 hover:text-white\">Admin login</Link></li>\n              {currentRole === UserRole.ADMIN && ( // Conditionally render Admin Panel link\n                <li><Link href=\"/admin\" className=\"text-gray-400 hover:text-white\">Admin Panel</Link></li>\n              )}\n            </ul>\n          </div>\n        </div>\n\n        <div className=\"mt-10 pt-6 border-t border-gray-700 text-center text-sm text-gray-500\">\n          <p>&copy; {new Date().getFullYear()} Almas Medical & Surgical Agency. All Rights Reserved.</p>\n          <p className=\"mt-1\">Designed for B2B wholesale distribution.</p>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;"],"names":[],"mappings":";;;;;AAGA,oTAA8B,sCAAsC;AACpE,oQAAiD,iBAAiB;AAClE,kPAA0C,kBAAkB;AAL5D,cAAc,4CAA4C;;;;;AAO1D,MAAM,SAAS;IACb,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,+JAAO,KAAI,gCAAgC;IAEnE,qBACE,oQAAC;QAAO,WAAU;kBAChB,cAAA,oQAAC;YAAI,WAAU;;8BACb,oQAAC;oBAAI,WAAU;;sCAEb,oQAAC;;8CACC,oQAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,oQAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAG1C,oQAAC;oCAAI,WAAU;;sDACX,oQAAC;sDAAE;;;;;;sDACH,oQAAC;sDAAE;;;;;;sDACH,oQAAC;sDAAE;;;;;;;;;;;;;;;;;;sCAKT,oQAAC;;8CACC,oQAAC;oCAAG,WAAU;8CAA8B;;;;;;8CAC5C,oQAAC;oCAAG,WAAU;;sDACZ,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAY,WAAU;0DAAiC;;;;;;;;;;;sDACtE,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAS,WAAU;0DAAiC;;;;;;;;;;;sDACnE,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAY,WAAU;0DAAiC;;;;;;;;;;;sDACtE,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAW,WAAU;0DAAiC;;;;;;;;;;;;;;;;;;;;;;;sCAKzE,oQAAC;;8CACC,oQAAC;oCAAG,WAAU;8CAA8B;;;;;;8CAC5C,oQAAC;oCAAG,WAAU;;sDACZ,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAS,WAAU;0DAAiC;;;;;;;;;;;sDACnE,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAa,WAAU;0DAAiC;;;;;;;;;;;sDACvE,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAoB,WAAU;0DAAiC;;;;;;;;;;;sDAC9E,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAoB,WAAU;0DAAiC;;;;;;;;;;;sDAC9E,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAsB,WAAU;0DAAiC;;;;;;;;;;;;;;;;;;;;;;;sCAKpF,oQAAC;;8CACC,oQAAC;oCAAG,WAAU;8CAA8B;;;;;;8CAC5C,oQAAC;oCAAG,WAAU;;sDACZ,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAW,WAAU;0DAAiC;;;;;;;;;;;sDACrE,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAS,WAAU;0DAAiC;;;;;;;;;;;sDACnE,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAW,WAAU;0DAAiC;;;;;;;;;;;sDACrE,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAe,WAAU;0DAAiC;;;;;;;;;;;wCACxE,gBAAgB,uJAAQ,CAAC,KAAK,kBAC7B,oQAAC;sDAAG,cAAA,oQAAC,6LAAI;gDAAC,MAAK;gDAAS,WAAU;0DAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAM3E,oQAAC;oBAAI,WAAU;;sCACb,oQAAC;;gCAAE;gCAAQ,IAAI,OAAO,WAAW;gCAAG;;;;;;;sCACpC,oQAAC;4BAAE,WAAU;sCAAO;;;;;;;;;;;;;;;;;;;;;;;AAK9B;uCAEe"}}]
}