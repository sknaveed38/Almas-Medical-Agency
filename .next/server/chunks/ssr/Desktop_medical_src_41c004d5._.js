module.exports=[44261,a=>{"use strict";a.s(["getSoonestExpiry",0,a=>a.batches&&0!==a.batches.length?[...a.batches].sort((a,b)=>new Date(a.expiry).getTime()-new Date(b.expiry).getTime())[0].expiry:null,"isNearExpiry",0,(a,b=3)=>{if(!a.batches||0===a.batches.length)return!1;let c=new Date,d=new Date;for(let e of(d.setMonth(c.getMonth()+b),a.batches)){let a=new Date(e.expiry);if(a<=d&&a>=c)return!0}return!1}])},25292,a=>{"use strict";var b=a.i(30277),c=a.i(45623),d=a.i(70151),e=a.i(21204),f=a.i(88176),g=a.i(44261),h=a.i(39161),i=a.i(95903);let j={"In stock":"bg-emerald-100 text-emerald-800","Low stock":"bg-yellow-100 text-yellow-800","Out of stock":"bg-red-100 text-red-800","Near expiry — discounted":"bg-blue-100 text-blue-800"};a.s(["default",0,({product:a})=>{let{currentRole:k,isLoggedIn:l}=(0,e.useRole)(),{addItem:m}=(0,i.useCart)(),n=(0,g.isNearExpiry)(a),o=(0,g.getSoonestExpiry)(a),p=(0,c.useRef)(null),q=a.stock_badge;n&&"Out of stock"!==a.stock_badge&&(q="Near expiry — discounted");let r="Out of stock"===q,s=a.pricing?.[k]||a.pricing?.[f.UserRole.REGULAR]||0;return(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 flex flex-col justify-between hover:shadow-lg transition-shadow duration-300 bg-white",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"relative w-full h-40 bg-gray-100 rounded-md mb-4 flex items-center justify-center",children:[n&&(0,b.jsx)("div",{className:"absolute top-0 left-0 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-br-lg",children:"DEAL"}),(0,b.jsx)("img",{src:a.image,alt:a.name,className:"max-h-full max-w-full p-2 object-contain"}),(0,b.jsx)("span",{className:`absolute top-2 right-2 text-xs font-semibold px-2 py-1 rounded-full ${j[q]}`,children:q})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:a.brand}),(0,b.jsx)("h3",{className:"text-md font-semibold text-gray-800 mt-1 truncate",title:a.name,children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.pack_size}),n&&o&&(0,b.jsxs)("p",{className:"text-sm text-red-600 mt-1",children:["Expires: ",new Date(o).toLocaleDateString()]}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["MOQ: ",(0,b.jsxs)("span",{className:"font-bold text-gray-700",children:[a.moq," units"]})]})})]}),(0,b.jsxs)("div",{className:"mt-4",children:[l?(0,b.jsxs)("p",{className:"text-lg font-bold text-emerald-600",children:["number"==typeof s?`₹${s.toFixed(2)}`:"N/A",(0,b.jsx)("span",{className:"text-sm font-normal text-gray-500",children:"/box"})]}):(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-500",children:[(0,b.jsx)(h.default,{href:"/login",className:"text-emerald-600 hover:underline",children:"Login"})," to view price"]}),(0,b.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"number",min:a.moq,defaultValue:a.moq,className:"w-20 px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500 text-center",disabled:r||!l,ref:p}),(0,b.jsxs)("button",{className:`w-full flex items-center justify-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${r||!l?"bg-gray-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"}`,disabled:r||!l,onClick:()=>{let b=parseInt(p.current?.value||"0",10);isNaN(b)||b<a.moq?alert(`Please enter a quantity of at least ${a.moq} units.`):(m(a,b),alert(`Added ${b} of ${a.name} to cart.`))},children:[(0,b.jsx)(d.ShoppingCart,{size:16,className:"mr-2"}),"Add"]})]}),r&&(0,b.jsx)("p",{className:"text-center text-red-600 text-xs mt-2",children:"Currently unavailable"}),!r&&(0,b.jsx)("p",{className:"text-center text-gray-500 text-xs mt-2",children:"Dispatch in 24-48 hrs"})]})]})}])}];

//# sourceMappingURL=Desktop_medical_src_41c004d5._.js.map