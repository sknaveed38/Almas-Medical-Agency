(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75595,e=>{"use strict";e.s(["getSoonestExpiry",0,e=>e.batches&&0!==e.batches.length?[...e.batches].sort((e,t)=>new Date(e.expiry).getTime()-new Date(t.expiry).getTime())[0].expiry:null,"isNearExpiry",0,(e,t=3)=>{if(!e.batches||0===e.batches.length)return!1;let s=new Date,a=new Date;for(let r of(a.setMonth(s.getMonth()+t),e.batches)){let e=new Date(r.expiry);if(e<=a&&e>=s)return!0}return!1}])},53848,e=>{"use strict";e.s(["products",0,[]])},46662,e=>{"use strict";let t=(0,e.i(30631).default)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],46662)},56951,e=>{"use strict";let t=(0,e.i(30631).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],56951)},6015,e=>{"use strict";let t=(0,e.i(30631).default)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);e.s(["Stethoscope",()=>t],6015)},40506,e=>{"use strict";var t=e.i(99493),s=e.i(53848),a=e.i(89737),r=e.i(50072),l=e.i(46662),i=e.i(30631);let c=(0,i.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var d=e.i(56951);let n=(0,i.default)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var o=e.i(6015),m=e.i(36627),x=e.i(48274),h=e.i(75595),p=e.i(73219),u=e.i(3569),g=e.i(72648);e.s(["default",0,({params:e})=>{let{productId:i}=e,{currentRole:y,isLoggedIn:b}=(0,m.useRole)(),{addItem:f}=(0,u.useCart)(),j=(0,g.useRef)(null),N=s.products.find(e=>e.product_id===i);N||(0,a.notFound)();let k=N.pricing[y]||N.pricing[x.UserRole.REGULAR],v=(0,h.isNearExpiry)(N),w=N.stock_badge;return w="Out of stock"===N.stock_badge?"Out of stock":"Low stock"===N.stock_badge?"Low stock":v?"Near expiry — discounted":"In stock",(0,t.jsx)("div",{className:"bg-white",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[(0,t.jsx)("div",{className:"bg-gray-100 rounded-lg p-8 flex justify-center items-center",children:(0,t.jsx)("img",{src:N.image,alt:N.name,className:"max-h-96 object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${{"In stock":"bg-emerald-100 text-emerald-800","Low stock":"bg-yellow-100 text-yellow-800","Out of stock":"bg-red-100 text-red-800","Near expiry — discounted":"bg-blue-100 text-blue-800"}[w]}`,children:w}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mt-4",children:N.name}),(0,t.jsxs)("p",{className:"text-lg text-gray-500 mt-2",children:["By ",(0,t.jsx)("span",{className:"font-semibold text-emerald-600",children:N.brand})]}),(0,t.jsxs)("p",{className:"text-md text-gray-600 mt-1",children:["Generic Salt: ",(0,t.jsx)("span",{className:"font-medium",children:N.salt})]}),(0,t.jsxs)("div",{className:"mt-6",children:[b?(0,t.jsxs)("p",{className:"text-4xl font-bold text-emerald-700",children:["₹",k.toFixed(2),(0,t.jsxs)("span",{className:"text-lg font-normal text-gray-500",children:[" / box (",y,")"]})]}):(0,t.jsxs)("p",{className:"text-4xl font-bold text-gray-500",children:[(0,t.jsx)(p.default,{href:"/login",className:"text-emerald-600 hover:underline",children:"Login"})," to view price"]}),(0,t.jsxs)("p",{className:"text-md text-gray-500 line-through mt-1",children:["MRP: ₹",N.price_mrp.toFixed(2)]})]}),N.is_prescription_required&&(0,t.jsxs)("div",{className:"mt-6 p-4 bg-red-50 border border-red-300 rounded-lg flex items-center",children:[(0,t.jsx)(o.Stethoscope,{className:"w-6 h-6 text-red-500 mr-3"}),(0,t.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"Caution: This is a prescription medicine. It should be used only under medical supervision."})]}),(0,t.jsx)("div",{className:"mt-6 border-t pt-6",children:(0,t.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Pack Size:"})," ",N.pack_size]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Minimum Order Quantity (MOQ):"})," ",N.moq," units"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"GST Rate:"})," ",N.gst_rate,"%"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"HSN Code:"})," ",N.hsn_code]})]})}),N.batches&&N.batches.length>0&&(0,t.jsxs)("div",{className:"mt-6 border-t pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Available Batches"}),(0,t.jsx)("ul",{className:"space-y-2",children:N.batches.map(e=>{let s=new Date(e.expiry),a=new Date,r=new Date;r.setMonth(a.getMonth()+3);let l=s<=r&&s>=a;return(0,t.jsxs)("li",{className:`flex items-center p-3 rounded-md ${l?"bg-red-50 border border-red-300":"bg-gray-50"}`,children:[(0,t.jsx)(n,{className:`w-5 h-5 mr-3 ${l?"text-red-500":"text-gray-500"}`}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-gray-800",children:["Batch No: ",e.batch_no]}),(0,t.jsxs)("p",{className:`text-sm ${l?"text-red-600 font-semibold":"text-gray-600"}`,children:["Expiry: ",s.toLocaleDateString("en-US")," (",e.qty," units)"]})]})]},e.batch_no)})})]}),(0,t.jsxs)("div",{className:"mt-8 flex items-center gap-4",children:[(0,t.jsx)("input",{type:"number",defaultValue:N.moq,min:N.moq,className:"w-24 px-4 py-3 border border-gray-300 rounded-lg text-center font-semibold focus:outline-none focus:ring-2 focus:ring-emerald-500",disabled:"Out of stock"===N.stock_badge||!b,ref:j}),(0,t.jsxs)("button",{className:`w-full flex items-center justify-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white ${"Out of stock"===N.stock_badge||!b?"bg-gray-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"}`,disabled:"Out of stock"===N.stock_badge||!b,onClick:()=>{let e=parseInt(j.current?.value||"0",10);isNaN(e)||e<N.moq?alert(`Please enter a quantity of at least ${N.moq} units.`):(f(N,e),alert(`Added ${e} of ${N.name} to Bulk Cart.`))},children:[(0,t.jsx)(r.ShoppingCart,{className:"mr-3"}),"Add to Bulk Cart"]})]}),(0,t.jsx)("p",{className:"text-center text-gray-500 text-sm mt-3",children:"Out of stock"!==N.stock_badge?"Dispatch in 24–48 hrs":"Currently unavailable"})]})]}),(0,t.jsx)("div",{className:"mt-16 border-t pt-10",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(l.CheckCircle,{className:"w-10 h-10 text-emerald-500 mb-2"}),(0,t.jsx)("h4",{className:"font-semibold",children:"Quality Assured"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"100% genuine products from licensed sources."})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(c,{className:"w-10 h-10 text-emerald-500 mb-2"}),(0,t.jsx)("h4",{className:"font-semibold",children:"Secure Payments"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"GST-compliant invoicing and secure payment gateway."})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(d.Truck,{className:"w-10 h-10 text-emerald-500 mb-2"}),(0,t.jsx)("h4",{className:"font-semibold",children:"Reliable Delivery"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Fast and reliable delivery across the region."})]})]})})]})})}],40506)}]);