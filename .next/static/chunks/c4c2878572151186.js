(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56951,e=>{"use strict";let r=(0,e.i(30631).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>r],56951)},56038,85399,e=>{"use strict";var r=e.i(30631);let a=(0,r.default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>a],56038);let t=(0,r.default)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["Package",()=>t],85399)},24208,e=>{"use strict";var r=e.i(99493),a=e.i(72648),t=e.i(3569),s=e.i(89737),l=e.i(56038),d=e.i(56951),o=e.i(85399);e.s(["default",0,()=>{let{cartItems:e,getTotalPrice:c,clearCart:i}=(0,t.useCart)(),n=(0,s.useRouter)(),[m,x]=(0,a.useState)({fullName:"",address:"",city:"",postalCode:"",country:"",phone:""}),[u,p]=(0,a.useState)({cardNumber:"",expiryDate:"",cvv:"",cardHolderName:""}),[y,h]=(0,a.useState)({});(0,a.useEffect)(()=>{0===e.length&&n.push("/cart")},[e,n]);let g=async r=>{let a;if(r.preventDefault(),a={},m.fullName||(a.fullName="Full Name is required"),m.address||(a.address="Address is required"),m.city||(a.city="City is required"),m.postalCode||(a.postalCode="Postal Code is required"),m.country||(a.country="Country is required"),m.phone||(a.phone="Phone number is required"),u.cardNumber||(a.cardNumber="Card Number is required"),u.expiryDate||(a.expiryDate="Expiry Date is required"),u.cvv||(a.cvv="CVV is required"),u.cardHolderName||(a.cardHolderName="Card Holder Name is required"),h(a),0!==Object.keys(a).length)return void alert("Please fill in all required fields.");console.log("Simulating order submission..."),console.log("Cart Items:",e),console.log("Shipping Details:",m),console.log("Payment Details (Mock):",u);try{(await fetch("/api/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cartItems:e,shippingDetails:m,paymentDetails:{...u,cardNumber:"**** **** **** "+u.cardNumber.slice(-4)},totalPrice:c()})})).ok?(i(),n.push("/dashboard/orders")):alert("Order placement failed. Please try again.")}catch(e){console.error("Error placing order:",e),alert("An error occurred while placing your order.")}};return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Checkout"}),(0,r.jsxs)("form",{onSubmit:g,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,r.jsx)(d.Truck,{className:"mr-2"})," Shipping Details"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"fullName",className:"text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,r.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:m.fullName,onChange:e=>x({...m,fullName:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.fullName&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.fullName})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"address",className:"text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,r.jsx)("input",{type:"text",id:"address",name:"address",value:m.address,onChange:e=>x({...m,address:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.address&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.address})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"city",className:"text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,r.jsx)("input",{type:"text",id:"city",name:"city",value:m.city,onChange:e=>x({...m,city:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.city&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.city})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"postalCode",className:"text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),(0,r.jsx)("input",{type:"text",id:"postalCode",name:"postalCode",value:m.postalCode,onChange:e=>x({...m,postalCode:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.postalCode&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.postalCode})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"country",className:"text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,r.jsx)("input",{type:"text",id:"country",name:"country",value:m.country,onChange:e=>x({...m,country:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.country&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.country})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"phone",className:"text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:e=>x({...m,phone:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.phone&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.phone})]})]}),(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-4 flex items-center",children:[(0,r.jsx)(l.CreditCard,{className:"mr-2"})," Mock Payment Details"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"cardNumber",className:"text-sm font-medium text-gray-700 mb-1",children:"Card Number (Mock)"}),(0,r.jsx)("input",{type:"text",id:"cardNumber",name:"cardNumber",value:u.cardNumber,onChange:e=>p({...u,cardNumber:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.cardNumber&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.cardNumber})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"expiryDate",className:"text-sm font-medium text-gray-700 mb-1",children:"Expiry Date (MM/YY)"}),(0,r.jsx)("input",{type:"text",id:"expiryDate",name:"expiryDate",value:u.expiryDate,onChange:e=>p({...u,expiryDate:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.expiryDate&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.expiryDate})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"cvv",className:"text-sm font-medium text-gray-700 mb-1",children:"CVV"}),(0,r.jsx)("input",{type:"text",id:"cvv",name:"cvv",value:u.cvv,onChange:e=>p({...u,cvv:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.cvv&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.cvv})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"cardHolderName",className:"text-sm font-medium text-gray-700 mb-1",children:"Card Holder Name"}),(0,r.jsx)("input",{type:"text",id:"cardHolderName",name:"cardHolderName",value:u.cardHolderName,onChange:e=>p({...u,cardHolderName:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-emerald-500"}),y.cardHolderName&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.cardHolderName})]})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-1 bg-white p-6 rounded-lg shadow-md h-fit sticky lg:top-24",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,r.jsx)(o.Package,{className:"mr-2"})," Order Summary"]}),e.map(e=>(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-700 py-1",children:[(0,r.jsxs)("span",{children:[e.name," (",e.quantity,"x)"]}),(0,r.jsxs)("span",{children:["₹",(e.price*e.quantity).toFixed(2)]})]},e.product_id)),(0,r.jsxs)("div",{className:"border-t border-gray-200 mt-4 pt-4 flex justify-between text-lg font-bold text-gray-800",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["₹",c().toFixed(2)]})]}),(0,r.jsx)("button",{type:"submit",className:"mt-6 w-full bg-emerald-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-emerald-700 transition-colors",children:"Place Order"})]})]})]})}])}]);